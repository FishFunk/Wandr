<ion-header>
    <ion-navbar>
        <ion-title><ion-icon name="md-globe">&nbsp;Wandr</ion-icon></ion-title>
        <ion-buttons end>
            <button ion-button icon-only clear (click)="onClickReport()"><ion-icon name="flag"></ion-icon></button>
        </ion-buttons>
    </ion-navbar>
</ion-header>
<ion-content padding>
    <div text-center>
        <img class="profile-image" [src]="viewUserData.profile_img_url"/>
        <h3 class="profile-name">{{viewUserData.first_name}} {{viewUserData.last_name}}</h3>
        <div>
            <strong>Rank: </strong><span>{{getUserRank()}}</span>
        </div>
        <div>
            <strong>Lives in: </strong><span>{{viewUserData.location.stringFormat}}</span>
        </div>
        <div>
            <strong>Last login: </strong><span>{{viewUserData.last_login | date:'MMM dd yyyy'}}</span>
        </div>
        <div *ngIf="mutualFriends && mutualFriends.length > 0">
            <strong>Mutual Wandrers: </strong><span>{{mutualFriends.length}}</span>
        </div>
    </div>
    <hr>

    <!--***********  About  ***********-->
    <ion-list no-lines text-wrap>
        <ion-list-header text-center>
            <h2>About</h2>
        </ion-list-header>
        <ion-item>
            <p>{{viewUserData.bio}}</p>
        </ion-item>
    </ion-list>

    <!--***********  Services  ***********-->
    <ion-list no-lines text-wrap>
        <ion-list-header text-center>
            <h2>Services</h2>
        </ion-list-header>
        <ion-item>
            <ion-grid text-center item-content>
                <ion-row>
                    <ion-col *ngIf="viewUserData.services.host">
                        <ion-icon name="home"></ion-icon><br>
                        <p>Host</p>
                    </ion-col>
                    <ion-col *ngIf="viewUserData.services.tips">
                        <ion-icon name="information-circle"></ion-icon><br>
                        <p>Local Tips</p>
                    </ion-col>
                    <ion-col *ngIf="viewUserData.services.meetup">
                        <ion-icon name="contacts"></ion-icon><br>
                        <p>Meetup</p>
                    </ion-col>
                    <ion-col *ngIf="viewUserData.services.emergencyContact">
                        <ion-icon name="call"></ion-icon><br>
                        <p>Emergency Contact</p>
                    </ion-col>            
                </ion-row>
            </ion-grid> 
        </ion-item>
        <ion-item text-center *ngIf="showChatButton">
            <button *ngIf="!chatExists" ion-button large icon-end (click)="onClickSendMessage()">
                <div>
                    <span>Send Message</span>
                    <ion-icon name="text"></ion-icon>
                </div>
            </button>
            <button *ngIf="chatExists" ion-button large icon-end (click)="onClickGoToChat()">
                <div>
                    <span>Go To Chat</span>
                    <ion-icon name="text"></ion-icon>
                </div>
            </button>
        </ion-item>
    </ion-list>
</ion-content>    